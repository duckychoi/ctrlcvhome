---
name: kongkong2
description: 입력 복제(Query Repetition) 기법으로 정확도 향상. 모든 에이전트에 자동 적용.
trigger: 모든 태스크 시작 시 자동 적용
---

# Kongkong2 (입력 복제 패턴)

> **Google Research**: 입력을 단순 복제(`<QUERY>` → `<QUERY><QUERY>`)하면 여러 LLM에서 non-reasoning 태스크의 정확도가 크게 향상됨

---

## 핵심 원칙

**모든 태스크를 받으면 내부적으로 2번 읽고 처리합니다.**

```
┌─────────────────────────────────────────────────────────────┐
│  Kongkong2 Pattern (Query Repetition)                       │
│                                                             │
│  Input  →  <QUERY>{{task}}</QUERY>                          │
│            <QUERY>{{task}}</QUERY>   ← 동일 입력 반복        │
│                                                             │
│  효과:                                                       │
│  ├── 핵심 요구사항 놓침 방지                                │
│  ├── 제약조건/맥락 인식 강화                                │
│  └── 정확도 향상 (특히 non-reasoning 태스크)                │
└─────────────────────────────────────────────────────────────┘
```

---

## 적용 방법

### 1. 태스크 수신 시 내부 처리

```markdown
## 🔄 Kongkong2 처리

<QUERY>{{user_input}}</QUERY>
<QUERY>{{user_input}}</QUERY>
```

### 2. 2단계 이해 프로세스

| 단계 | 초점 | 추출 항목 |
|------|------|----------|
| **1차 읽기** | 핵심 파악 | 주요 요구사항, 핵심 키워드 |
| **2차 읽기** | 세부 확인 | 놓친 조건, 제약사항, 맥락 |
| **통합** | 완전한 이해 | 두 번의 분석 합성 |

### 3. 내부 템플릿 (출력하지 않음)

```markdown
## 🔄 Kongkong2: 태스크 이해

### 1차 읽기 (핵심)
- 요구사항: {{핵심 요구사항}}
- 키워드: {{주요 키워드}}

### 2차 읽기 (세부)
- 추가 발견: {{1차에서 놓친 것}}
- 제약조건: {{명시적/암시적 제약}}
- 맥락: {{배경 정보}}

### 통합 이해
{{최종 통합 이해}}

→ 이제 작업 시작
```

---

## 자동 적용 규칙

### 적용 대상

| 에이전트 | 적용 | 비고 |
|---------|------|------|
| backend-specialist | ✅ | API 스펙 정확히 파악 |
| frontend-specialist | ✅ | UI 요구사항 놓침 방지 |
| test-specialist | ✅ | 테스트 케이스 누락 방지 |
| database-specialist | ✅ | 스키마 요구사항 정확히 파악 |
| security-specialist | ✅ | 보안 요구사항 놓침 방지 |
| 3d-engine-specialist | ✅ | 복잡한 3D 요구사항 파악 |
| orchestrator | ✅ | 태스크 분해 정확도 향상 |

### 적용 태스크 유형

```yaml
always_apply:
  - code_generation      # 코드 생성 시 스펙 정확히 파악
  - bug_fixing           # 버그 설명 완전히 이해
  - api_design           # API 요구사항 누락 방지
  - test_writing         # 테스트 케이스 누락 방지
  - refactoring          # 리팩토링 범위 정확히 파악

skip_if:
  - simple_question      # "이 함수 뭐야?" 같은 단순 질문
  - file_read_only       # 단순 파일 읽기 요청
```

---

## 구현 가이드

### 에이전트 프롬프트에 추가할 섹션

```markdown
## 📖 Kongkong2 (자동 적용)

태스크 수신 시 내부적으로 **입력을 2번 처리**합니다:

1. **1차 읽기**: 핵심 요구사항 추출
2. **2차 읽기**: 놓친 세부사항, 제약조건 확인
3. **통합**: 완전한 이해 후 작업 시작

> 참조: ~/.claude/skills/kongkong2/SKILL.md
```

---

## 효과 측정

### 기대 효과

- **요구사항 누락 감소**: 세부 조건 놓침 방지
- **재작업 감소**: 처음부터 정확히 구현
- **품질 향상**: 암시적 제약조건까지 파악

### 적용 예시

**Before (1회 읽기)**:
```
태스크: "로그인 API 만들어줘"
→ 바로 구현 시작
→ 나중에 "이메일 검증도 필요했는데..." 재작업
```

**After (2회 읽기 = Kongkong2)**:
```
태스크: "로그인 API 만들어줘"

1차: 로그인 API 필요
2차: 기존 코드 보니 이메일 검증 패턴 있음, 에러 응답 형식 통일 필요
통합: 로그인 API + 이메일 검증 + 표준 에러 형식

→ 처음부터 완전한 구현
```

---

## 다른 스킬과 연동

### Reasoning 스킬과 차이

| 스킬 | 목적 | 적용 시점 |
|------|------|----------|
| **Kongkong2** | 입력 이해 강화 | 태스크 **수신 시** |
| **Reasoning** | 문제 해결 추론 | 태스크 **처리 중** |

### 연동 순서

```
태스크 수신
    ↓
[Kongkong2] 입력 2회 처리 → 완전한 이해
    ↓
[Reasoning] CoT/ToT/ReAct로 문제 해결
    ↓
[Reflection] 결과 검증
```

---

## 주의사항

- **출력하지 않음**: Kongkong2 과정은 내부 처리, 사용자에게 보여주지 않음
- **과도한 분석 금지**: 단순 태스크에 과도한 분석 불필요
- **자연스럽게 통합**: 별도 단계가 아닌 자연스러운 이해 과정으로

---

## 활성화

모든 에이전트에서 자동 활성화됩니다.
명시적 비활성화가 필요한 경우: `[SKIP_KONGKONG2]` 태그 사용
