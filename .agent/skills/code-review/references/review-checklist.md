# Code Review Detailed Checklist

## Stage 1: Spec Compliance (스펙 준수)

### 기능 완전성

```markdown
요구사항 매핑:
- [ ] 스펙의 모든 기능이 구현됨
- [ ] 각 기능이 명시된 대로 동작
- [ ] 모든 입력 조건이 처리됨
- [ ] 모든 출력이 스펙과 일치
```

### YAGNI 확인

```markdown
불필요한 추가 확인:
- [ ] 스펙에 없는 기능이 추가되지 않음
- [ ] 과도한 추상화가 없음
- [ ] "나중에 필요할" 코드가 없음
- [ ] 사용되지 않는 파라미터/옵션이 없음
```

---

## Stage 2: Code Quality (코드 품질)

### A. 아키텍처 (Architecture)

```markdown
SOLID 원칙:
- [ ] S: 각 클래스/함수가 단일 책임
- [ ] O: 확장에 열려있고 수정에 닫힘
- [ ] L: 서브타입이 대체 가능
- [ ] I: 인터페이스가 분리됨
- [ ] D: 추상화에 의존

패턴:
- [ ] 기존 코드베이스 패턴 따름
- [ ] 적절한 디자인 패턴 사용
- [ ] 레이어 간 책임 분리 명확
```

### B. 코드 품질 (Code Quality)

```markdown
가독성:
- [ ] 변수명이 의도를 나타냄
- [ ] 함수명이 동작을 설명
- [ ] 복잡한 로직에 주석 있음
- [ ] 일관된 코딩 스타일

유지보수성:
- [ ] 함수가 적절한 크기 (20줄 이하 권장)
- [ ] 중첩이 깊지 않음 (3단계 이하)
- [ ] 코드 중복 없음 (DRY)
- [ ] 매직 넘버/스트링 상수화
```

### C. 에러 처리 (Error Handling)

```markdown
에러 케이스:
- [ ] 모든 예외 상황 처리
- [ ] 적절한 에러 타입 사용
- [ ] 에러 메시지가 도움이 됨
- [ ] 에러 전파가 적절함

방어적 프로그래밍:
- [ ] 입력 검증
- [ ] null/undefined 체크
- [ ] 경계 조건 처리
```

### D. 테스트 (Testing)

```markdown
커버리지:
- [ ] 주요 기능 테스트됨
- [ ] 엣지 케이스 테스트됨
- [ ] 에러 케이스 테스트됨
- [ ] 통합 테스트 있음 (필요시)

테스트 품질:
- [ ] 실제 동작 테스트 (mock 최소화)
- [ ] 테스트가 독립적
- [ ] 테스트명이 설명적
- [ ] Arrange-Act-Assert 패턴
```

### E. 보안 (Security)

```markdown
입력 검증:
- [ ] 모든 외부 입력 검증
- [ ] SQL Injection 방지
- [ ] XSS 방지
- [ ] Path Traversal 방지

데이터 보호:
- [ ] 민감 정보 로그 안 함
- [ ] 적절한 접근 제어
- [ ] 암호화 적절히 사용
```

### F. 성능 (Performance)

```markdown
효율성:
- [ ] N+1 쿼리 없음
- [ ] 불필요한 연산 없음
- [ ] 적절한 데이터 구조 사용
- [ ] 메모리 누수 없음

최적화:
- [ ] 캐싱 적절히 사용
- [ ] 비동기 처리 적절
- [ ] 인덱스 활용
```

---

## 이슈 분류 가이드

### Critical (즉시 수정)

- 보안 취약점
- 데이터 손실 가능성
- 크래시/에러 발생
- 핵심 기능 미작동

### Important (진행 전 수정)

- 성능 문제
- 코드 품질 심각
- 테스트 부족
- 에러 처리 미흡

### Minor (나중에 수정)

- 코드 스타일
- 네이밍 개선
- 문서화 개선
- 리팩토링 제안

---

## 리뷰 코멘트 작성법

### 좋은 코멘트

```markdown
❌ "이 코드 별로다"
✅ "이 함수가 50줄인데, 단일 책임 원칙을 위해
   validateInput()과 processData()로 분리하면 좋겠습니다."

❌ "버그 있음"
✅ "line 42: `users.length`가 0일 때 divide by zero가 발생합니다.
   제안: `if (users.length === 0) return 0;` 추가"

❌ "테스트 부족"
✅ "getUserById()의 사용자가 없을 때 케이스가 테스트되지 않았습니다.
   추가: `test('returns null when user not found', ...)`"
```

### 코멘트 구조

```markdown
**[심각도]** [파일:라인] [요약]

**문제**: [구체적 설명]
**영향**: [왜 문제인지]
**제안**: [해결 방법]
```
