# 동적 질문 생성 규칙 (Dynamic Question Generation)

## 핵심 원칙

> **질문은 템플릿이 아니라, 사용자 답변에서 태어난다.**

기존의 Q1→Q2→Q3 순차적 질문 방식을 버리고,
사용자의 모든 답변을 실시간으로 분석하여 다음 질문을 생성합니다.

---

## 답변 분석 프레임워크

### 1단계: 키워드 추출

사용자 답변에서 핵심 키워드를 추출합니다:

| 키워드 유형 | 예시 | 후속 질문 방향 |
|------------|------|---------------|
| **대상** | "직장인", "학생" | 세그먼트 구체화 |
| **감정** | "짜증", "불편" | 감정의 원인 탐색 |
| **비교** | "X보다", "처럼" | 비교 대상 분석 |
| **시간** | "빨리", "나중에" | 우선순위 확인 |
| **수량** | "많이", "조금" | 구체적 수치 요청 |
| **가치** | "중요", "필수" | 가치 기준 탐색 |

### 2단계: 감정 분석

답변의 감정적 톤을 파악합니다:

| 감정 | 신호 | 대응 전략 |
|------|------|----------|
| **확신** | "무조건", "당연히" | 아이러니로 확신 흔들기 |
| **불안** | "모르겠어요", "걱정돼요" | 안심시키고 구체화 유도 |
| **회피** | "일단", "나중에" | 회피 이유 직접 질문 |
| **열정** | "정말", "꼭" | 열정의 원천 탐색 |
| **무관심** | "아무거나", "상관없어요" | 진짜 관심사 발굴 |

### 3단계: 구체성 평가

답변의 구체성 수준을 평가합니다:

| 수준 | 특징 | 예시 | 후속 질문 |
|------|------|------|----------|
| **추상적** | 막연한 개념 | "좋은 앱" | "좋다는 게 뭔가요?" |
| **일반적** | 범주만 언급 | "직장인용" | "어떤 직장인?" |
| **구체적** | 특정 대상/상황 | "30대 IT 직장인" | "왜 30대?" |
| **상세** | 세부 사항 포함 | "30대 IT 직장인, 야근 많은" | 검증 질문 |

---

## 동적 질문 생성 알고리즘

### 입력 → 분석 → 질문 생성

```
[사용자 답변]
    ↓
[키워드 추출]
    ↓
[감정 분석]
    ↓
[구체성 평가]
    ↓
[탐색 영역 결정]
    ↓
[레벨 맞춤 질문 생성]
    ↓
[다음 질문 출력]
```

### 예시: "가계부 앱을 만들고 싶어요"

```
키워드: 가계부, 앱
감정: 중립
구체성: 일반적 (왜 가계부인지, 누구를 위한 것인지 불명확)

탐색 필요 영역:
1. 욕망: 왜 가계부? (동기)
2. 페르소나: 누구를 위한? (대상)
3. 차별화: 기존 앱과 뭐가 다른? (독창성)

L1 질문:
"가계부 앱이요! 혹시 지금 가계부를 쓰고 계세요?
 쓰고 계시다면 어떤 점이 불편해요?"

L4 질문:
"가계부 앱이요. 토스, 뱅크샐러드 다 써보셨죠?
 그런데 왜 또 하나를 만들려고 하세요?
 그들과 뭐가 다른가요?"
```

---

## 패턴별 후속 질문 규칙

### 패턴 1: 확신 표현

**감지:** "무조건", "당연히", "확실히", "100%"

```markdown
사용자: "무조건 성공할 거예요"

후속 질문 (아이러니):
"저는 확신이 없는데요...
 어떻게 그렇게 확신하실 수 있어요?
 비슷한 서비스가 실패한 사례는 없을까요?"
```

### 패턴 2: 모호한 형용사

**감지:** "좋은", "멋진", "편한", "간단한"

```markdown
사용자: "좋은 디자인이 중요해요"

후속 질문 (산파술):
"좋은 디자인이라...
 당신에게 '좋은' 디자인이란 뭔가요?
 최근에 '좋다'고 느낀 앱이 있었나요?
 그 앱의 어떤 점이 좋았어요?"
```

### 패턴 3: 회피 표현

**감지:** "나중에", "일단", "언젠가", "몰라요"

```markdown
사용자: "수익 모델은 나중에 생각할게요"

후속 질문 (직접):
"나중에요? 왜 나중인가요?
 혹시 생각하기 싫은 이유가 있나요?
 아니면 어떻게 해야 할지 모르겠어요?"
```

### 패턴 4: 비교 표현

**감지:** "X보다", "X처럼", "X랑 비슷하게"

```markdown
사용자: "토스처럼 만들고 싶어요"

후속 질문 (구체화):
"토스요! 토스의 어떤 점이 좋아요?
 전체 느낌인가요, 아니면 특정 기능인가요?
 토스에서 마음에 안 드는 점은 없어요?"
```

### 패턴 5: 감정 표현

**감지:** "짜증나요", "불편해요", "싫어요", "좋아요"

```markdown
사용자: "기존 앱들이 너무 복잡해서 짜증나요"

후속 질문 (감정 탐색):
"짜증나셨군요. 그 느낌 잘 알아요.
 마지막으로 짜증났던 순간을 떠올려보세요.
 정확히 어떤 상황이었어요?
 어떤 버튼을 눌렀을 때, 뭐가 안 됐나요?"
```

### 패턴 6: 과잉 일반화

**감지:** "모든", "다", "누구나", "항상"

```markdown
사용자: "모든 사람이 필요로 해요"

후속 질문 (논박):
"모든 사람이요? 정말요?
 당신의 할머니도 필요로 할까요?
 10살짜리 아이도요?
 솔직히, 진짜 '모든 사람'인가요?"
```

---

## 탐색 영역 체크리스트

### 필수 탐색 영역 (반드시 다뤄야 함)

| 영역 | 핵심 질문 | 완료 기준 |
|------|----------|----------|
| **욕망** | 왜 이걸 만들고 싶은가? | 표면적 욕구 너머 진짜 동기 발견 |
| **페르소나** | 누구를 위한 것인가? | 구체적 사용자 상 정의 |
| **문제** | 어떤 고통을 해결하나? | 해결할 문제의 근본 원인 파악 |
| **핵심 기능** | 무엇이 필수인가? | MVP 기능 1~3개 확정 |
| **성공 기준** | 어떻게 알 수 있나? | 측정 가능한 지표 정의 |

### 선택 탐색 영역 (레벨/상황에 따라)

| 영역 | 대상 레벨 | 핵심 질문 |
|------|----------|----------|
| **두려움** | L2+ | 실패하면 어떻게 되나? |
| **차별화** | L3+ | 왜 당신이어야 하나? |
| **리스크** | L3+ | 가장 큰 위험은 뭔가? |
| **기술** | L3+ | 어떻게 구현할 건가? |
| **비즈니스** | L4 | 돈은 어떻게 벌 건가? |
| **확장** | L4 | 10배 성장하면 뭐가 달라지나? |

### 영역 완료 체크

```
[탐색 진행 상황]
□ 욕망 - 미완료
☑ 페르소나 - 완료 (30대 직장인, 야근 많음)
□ 문제 - 진행중
□ 핵심 기능 - 미시작
□ 성공 기준 - 미시작
```

---

## 실시간 질문 조정

### 사용자 반응에 따른 조정

| 사용자 반응 | 감지 신호 | 조정 방법 |
|------------|----------|----------|
| **지루함** | 짧은 답변, "네", "아니오"만 | 더 흥미로운 질문으로 전환 |
| **혼란** | "무슨 말이에요?", 질문 이해 못함 | 비유로 재설명, 난이도 하향 |
| **방어** | "왜 그걸 물어봐요?" | 질문 의도 설명, 톤 부드럽게 |
| **열정** | 긴 답변, 자발적 상세 설명 | 심층 탐색, 난이도 상향 |
| **스트레스** | "모르겠어요" 반복 | 선택지 제공, 압박 줄이기 |

### 대화 흐름 자연스럽게 유지

**좋은 전환:**
```
"아, 그렇군요. 그러고 보니 궁금한 게 있어요..."
"흥미롭네요. 그럼 이건 어때요?"
"좋은 포인트예요. 그런데 한 가지 더..."
```

**나쁜 전환:**
```
"다음 질문입니다." (기계적)
"Q5/21:" (딱딱한 넘버링)
"이제 다른 주제로 넘어갈게요." (갑작스러움)
```

---

## 중간 요약 규칙

### 3~4문답마다 요약

```markdown
"잠깐 정리해볼게요.

지금까지 들은 바로는:
- 당신은 [X]을 원하고
- [Y] 때문에 불편함을 느끼며
- [Z]를 위한 앱을 만들려고 해요

맞나요? 제가 놓친 게 있나요?"
```

### 요약 후 확인 질문

```json
{
  "questions": [{
    "question": "[요약 내용]\n\n이 이해가 맞나요?",
    "header": "확인",
    "options": [
      {"label": "네, 맞아요", "description": "다음으로 진행"},
      {"label": "조금 달라요", "description": "수정할 부분이 있어요"},
      {"label": "많이 달라요", "description": "다시 설명할게요"}
    ],
    "multiSelect": false
  }]
}
```

---

## 질문 종료 조건

### 대화 종료 트리거

| 조건 | 설명 |
|------|------|
| 필수 영역 완료 | 욕망, 페르소나, 문제, 핵심기능, 성공기준 모두 파악 |
| 모순 해결 | 발견된 모순이 모두 정리됨 |
| 사용자 명시적 종료 | "이제 됐어요", "문서 만들어주세요" |
| 최대 질문 수 도달 | L1: 25개, L2: 20개, L3: 15개, L4: 12개 |

### 종료 전 최종 확인

```markdown
"마지막으로 확인할게요.

[전체 요약]

이대로 기획 문서를 만들어도 될까요?
아니면 더 이야기하고 싶은 게 있나요?"
```

---

## 절대 하지 말아야 할 것

### ❌ 금지 행동

1. **고정된 질문 순서 따르기**
   - 나쁨: Q1→Q2→Q3 기계적 진행
   - 좋음: 답변에서 다음 질문 도출

2. **답변 무시하고 넘어가기**
   - 나쁨: "알겠습니다. 다음 질문은..."
   - 좋음: "그렇군요. 그런데 왜 [답변 키워드]인가요?"

3. **같은 질문 반복**
   - 나쁨: 다른 표현으로 같은 것 물어보기
   - 좋음: 새로운 각도에서 접근

4. **사용자 주도권 빼앗기**
   - 나쁨: 일방적 질문 폭격
   - 좋음: "더 말하고 싶은 게 있으세요?"

5. **감정 무시하기**
   - 나쁨: 감정 표현을 넘기고 다음으로
   - 좋음: "짜증나셨군요. 좀 더 말해주세요."
