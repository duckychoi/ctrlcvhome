# Phase 상세 가이드

> SKILL.md에서 분리된 Phase별 상세 내용입니다.

---

## Phase 0: 초기 설정 + 레벨 측정

### Step 0: 사용자 프로필 확인 (자동)

**⚠️ 레벨 측정 전에 반드시 기존 프로필을 확인합니다!**

```
1. Read 도구로 다음 파일 확인:
   - .claude/memory/user-profile.md

2. 파일이 존재하고 유효한 레벨 정보가 있으면:
   → 레벨 측정 질문 건너뛰기
   → 바로 Phase 1으로 진행

3. 파일이 없거나 레벨 정보가 없으면:
   → Step 2: 레벨 측정 진행
```

**프로필 확인 후 인사 (기존 사용자):**

```json
{
  "questions": [{
    "question": "안녕하세요, {사용자명}님! 다시 만나서 반가워요.\n\n지난번에 L{X} 레벨로 측정되었어요.\n({레벨_설명})\n\n오늘은 어떤 프로젝트를 함께 만들어볼까요?",
    "header": "시작",
    "options": [
      {"label": "새 프로젝트 시작", "description": "새로운 아이디어로 시작해요"},
      {"label": "레벨 재측정", "description": "제 레벨을 다시 측정해주세요"}
    ],
    "multiSelect": false
  }]
}
```

### Step 0.5: neurion-proposal.md 확인 (브레인스토밍 기획안)

**⚠️ 프로필 확인 후, 슬랙 설정 전에 브레인스토밍 기획안을 확인합니다!**

```
1. Read 도구로 다음 파일 확인:
   - neurion-proposal.md (프로젝트 루트)

2. 파일이 존재하면:
   → 기획안 내용 요약 후 활용 여부 질문
   → 활용 시: 핵심 기능/타겟 사용자를 사전 세팅
   → 미활용 시: 기존 방식 진행

3. 파일이 없으면:
   → Step 1로 진행 (기존 방식)
```

**기획안 발견 시 질문:**

```json
{
  "questions": [{
    "question": "브레인스토밍 기획안을 발견했어요!\n\n📋 핵심 아이디어: {한 줄 요약}\n💡 아이디어 수: {N}개\n🎯 선택 방향: {방향명}\n📦 예상 핵심 기능: {기능1}, {기능2}, {기능3}\n\n이 기획안을 기반으로 시작할까요?",
    "header": "기획안 활용",
    "options": [
      {"label": "네, 이걸로 시작!", "description": "기획안의 핵심 기능과 방향을 활용"},
      {"label": "참고만 할게요", "description": "기획안을 참고하되 새로 시작"},
      {"label": "무시할게요", "description": "기획안 없이 처음부터 시작"}
    ],
    "multiSelect": false
  }]
}
```

**기획안 활용 시 Phase 1 최적화:**

```
- 핵심 기능 3개 → Phase 1의 초기 기능 시드로 활용
- 타겟 사용자 → 질문 맥락에 반영
- 미결정 사항 → 해당 Phase에서 우선 질문
- 전체 아이디어 목록 → 추가 기능 탐색 시 참조

⚠️ 중요: Socratic 검증은 그대로 수행!
   기획안의 내용을 무조건 수용하지 않고, 질문을 통해 검증/발전시킵니다.
```

### Step 1: 슬랙 웹훅 설정 (선택 사항)

```json
{
  "questions": [{
    "question": "시작하기 전에 한 가지 여쭤볼게요.\n\n기획 진행 상황을 슬랙으로 알림 받으시겠어요?\n\n(선택 사항 - 필요 없으시면 '건너뛰기'를 선택하세요)",
    "header": "슬랙 알림",
    "options": [
      {"label": "건너뛰기", "description": "슬랙 알림 없이 진행"},
      {"label": "웹훅 URL 입력", "description": "Other를 선택하여 URL 직접 입력"}
    ],
    "multiSelect": false
  }]
}
```

**⚠️ URL 저장 필수:**
```
Read({ file_path: ".claude/orchestrate-state.json" })
→ 파일 있으면 기존 내용에 slack_webhook_url 추가
→ 파일 없으면 새로 생성

Write({
  file_path: ".claude/orchestrate-state.json",
  content: JSON.stringify({
    ...기존내용,
    "slack_webhook_url": "입력받은URL"
  }, null, 2)
})
```

### Step 2: 레벨 측정 (3개 질문)

| 항목 | 측정 내용 |
|------|----------|
| **IT 이해도** | 기술 용어 친숙도, 개발 경험 |
| **기획력** | 요구사항 정의 능력, 추상화 수준 |
| **자기 인식** | 자신의 욕구/동기에 대한 이해도 |

```json
{
  "questions": [{
    "question": "안녕하세요! 저는 소크라테스입니다.\n\n시작하기 전에, 당신에 대해 조금 알고 싶어요.\n\n프로그래밍이나 앱 개발에 대해 어느 정도 알고 계신가요?",
    "header": "경험 수준",
    "options": [
      {"label": "완전 초보", "description": "코딩? 그게 뭔가요?"},
      {"label": "조금 알아요", "description": "HTML, CSS 정도는 봤어요"},
      {"label": "꽤 알아요", "description": "간단한 프로그램은 만들어봤어요"},
      {"label": "개발자입니다", "description": "현업 개발 경험이 있어요"}
    ],
    "multiSelect": false
  }]
}
```

### 레벨별 대화 전략

| 레벨 | IT 이해도 | 질문 스타일 | 질문 수 |
|------|----------|------------|---------|
| **L1** (초심자) | 기술 용어 모름 | 비유, 일상 언어, 감정 중심 | 15~20개 |
| **L2** (일반인) | 기본 용어 이해 | 비유 + 간단한 기술 개념 | 12~18개 |
| **L3** (경험자) | 개발 경험 있음 | 구체적 기술 질문 포함 | 10~15개 |
| **L4** (전문가) | 현업 개발자 | 아키텍처, 트레이드오프 중심 | 10~12개 |

---

## Phase 1: 핵심 기능 도출 대화

### 기능 중심 질문 방식

**❌ 기존 방식 (내면 탐색 과잉):**
```
Q1: "왜 만들고 싶어요?"
Q2: "그 욕망의 근원은요?"
Q3: "두려움은 뭔가요?"
→ 영혼 탐색은 좋지만, 실제 서비스 설계와 단절됨
```

**✅ 새로운 방식 (기능 중심):**
```
Q1: "무엇을 만들고 싶으세요?"
    → 사용자: "가계부 앱이요"

Q2: "가계부 앱의 핵심 기능이 뭐라고 생각하세요?
    기록? 분석? 알림? 뭐가 가장 중요해요?"
    → 사용자: "지출 기록이요"

Q3: "지출 기록이 핵심이군요. 그럼 질문 하나.
    사용자가 지출을 기록하는 순간을 상상해보세요.
    어디서, 언제, 어떻게 기록하나요?"
    → 기능이 화면으로 구체화되기 시작

Q4: "기록 후엔 뭘 보고 싶어요?
    그날 총액? 카테고리별 분석? 월 추이?"
    → 두 번째 기능(분석/조회) 도출
```

### 핵심 기능 3가지 질문

```markdown
1. "이 서비스에서 사용자가 가장 먼저 하는 행동이 뭔가요?"
   → 핵심 기능 #1 도출

2. "그 다음엔 뭘 하나요? 또는 뭘 보고 싶어하나요?"
   → 핵심 기능 #2 도출

3. "이 서비스 없이는 절대 안 되는 기능이 뭔가요?"
   → 핵심 기능 #3 확인 (MVP 필수 기능)
```

### 기능별 Why 질문

각 기능에 대해 1~2번만 "왜?"를 물어 동기를 파악합니다:

```markdown
기능: "지출 기록"
→ "왜 지출을 기록하고 싶어요?" (Why 1)
→ 사용자: "돈이 어디로 새는지 모르겠어서요"
→ "그걸 알면 뭘 하실 건가요?" (Why 2 - 행동 유도)
→ 사용자: "불필요한 지출을 줄이려고요"
→ [완료] 기능의 목적 확인 → 다음 기능으로
```

---

## Phase 2: 기능 → 화면 매핑

> **이 Phase가 소크라테스 개선의 핵심입니다.**

### Step 1: 기능 → 화면 연결

각 핵심 기능에 대해:

```markdown
기능: "지출 기록"

Q1: "지출을 기록하는 화면을 상상해보세요.
    어떻게 생겼나요? 뭐가 보이나요?"

Q2: "그 화면에 들어가려면 어디서 어떻게 가나요?
    홈 화면에서 버튼을 누르나요? 플로팅 버튼인가요?"

Q3: "기록을 누르면 바로 입력창이 뜨나요?
    아니면 카테고리를 먼저 선택하나요?"

Q4: "기록 완료 후엔 어떤 화면으로 가나요?
    목록으로? 홈으로? 성공 메시지가 뜨나요?"
```

### Step 2: 화면 흐름 확인

```markdown
"잠깐, 지금까지 나온 화면을 정리해볼게요:

1. 홈 화면 - 오늘 지출 요약
2. 지출 기록 화면 - 금액/카테고리 입력
3. 지출 목록 화면 - 기록 히스토리
4. 분석 화면 - 카테고리별 통계

이 4개 화면이 맞나요? 빠진 화면이 있나요?"
```

### Step 3: 화면 간 연결 검증

```markdown
"홈에서 '지출 기록'으로 어떻게 가나요?"
"기록 후 '지출 목록'을 바로 볼 수 있나요?"
"분석 화면에서 특정 항목을 누르면 어디로 가나요?"

→ 모든 화면 간 이동 경로 확인
→ 끊어진 연결 발견 시 질문
```

### 집요한 질문 예시

**사용자가 모호하게 답할 때:**
```markdown
사용자: "그냥 목록으로 보여주면 돼요"

→ "목록이요? 몇 개씩 보여주나요?
   스크롤하면 계속 로드되나요, 페이지 넘김인가요?
   목록 하나를 누르면 어떤 정보가 더 보이나요?"
```

**사용자가 건너뛰려 할 때:**
```markdown
사용자: "디자인은 나중에 생각할게요"

→ "디자인은 나중에 해도 돼요.
   하지만 '어떤 정보가 그 화면에 있는지'는 지금 정해야 해요.
   그 화면에 뭐가 보이나요? 텍스트? 숫자? 그래프?"
```

### 화면 매핑 완료 기준

| 체크 항목 | 설명 |
|----------|------|
| ✅ 핵심 화면 목록 | 모든 핵심 기능이 화면에 매핑됨 |
| ✅ 화면 간 연결 | A→B→C 이동 경로가 명확함 |
| ✅ 각 화면의 구성 요소 | 주요 컴포넌트가 식별됨 |
| ✅ 진입점 정의 | 각 화면에 어떻게 들어가는지 명확 |
| ✅ 사용자 시나리오 | 최소 2개 시나리오 흐름 확인 |

---

## Phase 2.5: 레벨별 기술 스택 결정

> 상세 규칙: `references/tech-stack-recommendation.md`

### 레벨별 제안 전략

| 레벨 | 전략 | 질문 스타일 |
|------|------|------------|
| **L1 (초심자)** | 자동 제안 | "이 조합으로 진행할게요. 괜찮으시죠?" |
| **L2 (일반인)** | AI 추천 + 간단한 Yes/No | "이걸 추천해요. 진행할까요?" |
| **L3 (경험자)** | 선택지 + 장단점 | "3가지 옵션이에요. 어떤 게 좋으세요?" |
| **L4 (전문가)** | 트레이드오프 질문 | "SSR이 필요한가요? 팀 역량은요?" |

### L1/L2 자동 추천 예시

```json
{
  "questions": [{
    "question": "기술적인 부분은 제가 정리해드릴게요.\n\n당신의 프로젝트에 가장 적합한 기술 조합:\n\n📦 프론트엔드: React + Vite\n🔧 백엔드: FastAPI (Python)\n💾 데이터베이스: PostgreSQL\n\n이대로 진행할까요?",
    "header": "기술 스택",
    "options": [
      {"label": "네, 좋아요!", "description": "추천대로 진행"},
      {"label": "잘 모르겠어요", "description": "좀 더 설명해주세요"}
    ],
    "multiSelect": false
  }]
}
```

---

## Phase 3: 문서 생성

### 소크라테스 대화 결과 반영

| 문서 | 반영 내용 |
|------|----------|
| **PRD** | 핵심 기능, 사용자 문제, MVP 정의 |
| **TRD** | 레벨에 맞는 기술 결정, 트레이드오프 |
| **User Flow** | 화면 간 이동 흐름 |
| **Database Design** | 핵심 엔티티와 관계 |
| **Design System** | 원하는 감정/분위기 |
| **06-screens** | **화면 목록 + 구성 요소 + 연결 (핵심!)** |
| **Coding Convention** | 레벨에 맞는 컨벤션 |

### 문서 생성 위치

```
./docs/planning/
├── 01-prd.md
├── 02-trd.md
├── 03-user-flow.md
├── 04-database-design.md
├── 05-design-system.md
├── 06-screens.md          ← 신규! /screen-spec의 입력
└── 07-coding-convention.md
```

---

## Phase 3.5: 망하는 기획 4요건 검증

### 검증 프로세스

```
┌─────────────────────────────────────────────────────────────────┐
│                  Phase 3.5: 기획 검증                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  1️⃣ 벤치마킹 검사                                               │
│     └── PRD에 유사 서비스 3개 분석이 있는가?                     │
│     └── 차별화 포인트가 "다르다"가 아닌 "낫다"로 설명되는가?     │
│                                                                  │
│  2️⃣ 가설/사실 검사                                              │
│     └── PRD에 "가설 vs 사실" 테이블이 있는가?                    │
│     └── 각 가설에 검증 계획이 있는가?                            │
│                                                                  │
│  3️⃣ 타협 검사                                                   │
│     └── 핵심 가치가 명확히 정의되어 있는가?                      │
│     └── 타협한 부분이 기록되어 있는가?                           │
│                                                                  │
│  4️⃣ 실험 검사                                                   │
│     └── MVP가 구체적으로 정의되어 있는가?                        │
│     └── 실패 시나리오와 학습 목표가 있는가?                      │
│                                                                  │
│  ❌ 하나라도 미충족 시 → 보완 질문                                │
│  ✅ 모든 검사 통과 시 → 다음 단계로                               │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### AskUserQuestion 검증 질문

```json
{
  "questions": [{
    "question": "기획 문서를 검토해봤습니다.\n\n다음 중 부족한 부분이 있다면 선택해주세요:\n\n• 벤치마킹: 유사 서비스 분석이 충분한가요?\n• 검증: 가설과 사실이 구분되어 있나요?\n• 타협: 핵심 가치가 유지되고 있나요?\n• 실험: MVP와 실패 대응이 준비되어 있나요?",
    "header": "기획 검증",
    "options": [
      {"label": "모두 충분해요", "description": "검증 완료, 다음 단계로"},
      {"label": "벤치마킹 부족", "description": "유사 서비스 분석 추가"},
      {"label": "가설 검증 부족", "description": "가설/사실 구분 추가"},
      {"label": "타협 기록 부족", "description": "타협 내용 명시 추가"}
    ],
    "multiSelect": true
  }]
}
```
